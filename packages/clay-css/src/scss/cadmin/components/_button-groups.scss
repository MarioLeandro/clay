.btn-group,
.btn-group-vertical {
	display: inline-flex;
	position: relative;
	vertical-align: middle;

	> .btn {
		position: relative;

		&:hover {
			z-index: 1;
		}

		&:focus {
			z-index: 3;
		}

		&:active,
		&.active {
			z-index: 2;
		}
	}
}

.btn-group {
	> .btn:not(:last-child)::after {
        content: ""; 
        position: absolute; 
        
        top: 0; 

        background-color: var(--btn-separator-color, $cadmin-white);
        
        right: 0; 
        width: 1px; 
        
        height: 100%; 

		z-index: 4;
    }

	> .btn:first-child {
		border-right: none;
	}

	> .btn:last-child {
		border-left: none;
	}

	> .btn:not(:first-child):not(:last-child) {
		border-right: none;
		border-left: none;
	}

	> .btn:not(:first-child),
	> .btn-group:not(:first-child) {
		margin-left: math-sign($cadmin-btn-border-width);
	}

	> .btn:not(:last-child):not(.dropdown-toggle),
	> .btn-group:not(:last-child) > .btn {
		@include border-right-radius(0);
	}

	> .btn:not(:first-child),
	> .btn-group:not(:first-child) > .btn {
		@include border-left-radius(0);
	}
}

.btn-group {
	flex-wrap: wrap;
}

.btn-group-spaced {
	@include clay-css($cadmin-btn-group-spaced);
}

.btn-group-nowrap {
	flex-wrap: nowrap;
}

// @deprecated as of v3.113.0 replace `.btn-group` with `.btn-group-spaced`
// instead

.btn-group-item {
	align-items: center;
	display: inline-flex;
	margin-right: $cadmin-btn-group-item-margin-right;
}

.btn-group-item:last-child,
.btn-group-item-last {
	margin-right: 0;
}

.btn-toolbar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;

	.btn-group,
	.input-group {
		margin-bottom: $cadmin-btn-toolbar-spacer-y;
		margin-top: $cadmin-btn-toolbar-spacer-y;

		&:not(:last-child) {
			margin-right: $cadmin-btn-toolbar-spacer-x;
		}
	}

	.input-group {
		width: auto;
	}
}

// Button Group Sizes

.btn-group-lg {
	> .btn,
	.btn-group > .btn {
		@extend %clay-btn-lg !optional;
	}

	.btn-monospaced {
		@extend %clay-btn-monospaced-lg !optional;
	}
}

.btn-group-sm {
	> .btn,
	.btn-group > .btn {
		@extend %clay-btn-sm !optional;
	}

	.btn-monospaced {
		@extend %clay-btn-monospaced-sm !optional;
	}
}

// Button Group Vertical

.btn-group-vertical {
	align-items: flex-start;
	flex-direction: column;
	justify-content: center;

	> .btn:not(:last-child)::after {
        content: ""; 
        
        position: absolute; 
        
        width: 100%;
        height: 1px; 
        background-color: var(--btn-separator-color, $cadmin-white);
        
        bottom: 0;
        left: 0;
        
		z-index: 4;
    }

	> .btn:first-child {
		border-bottom: none;
	}

	> .btn:last-child {
		border-top: none;
	}

	> .btn:not(:first-child):not(:last-child) {
		border-top: none;
		border-bottom: none;
	}
	
	> .btn,
	> .btn-group {
		width: 100%;
	}

	> .btn:not(:first-child),
	> .btn-group:not(:first-child) {
		margin-top: math-sign($cadmin-btn-border-width);
	}

	> .btn:not(:last-child):not(.dropdown-toggle),
	> .btn-group:not(:last-child) > .btn {
		@include border-bottom-radius(0);
	}

	> .btn:not(:first-child),
	> .btn-group:not(:first-child) > .btn {
		@include border-top-radius(0);
	}

	> .btn-monospaced {
		width: $cadmin-btn-monospaced-size;

		&.btn-lg {
			@extend %clay-btn-monospaced-lg !optional;
		}

		&.btn-sm {
			@extend %clay-btn-monospaced-sm !optional;
		}
	}
}
